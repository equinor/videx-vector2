<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>functions.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#add">add</a></li><li><a href="global.html#angle">angle</a></li><li><a href="global.html#angleDeg">angleDeg</a></li><li><a href="global.html#atan2">atan2</a></li><li><a href="global.html#atan2Deg">atan2Deg</a></li><li><a href="global.html#clampMagnitude">clampMagnitude</a></li><li><a href="global.html#cross">cross</a></li><li><a href="global.html#DEG2RAD">DEG2RAD</a></li><li><a href="global.html#distance">distance</a></li><li><a href="global.html#divide">divide</a></li><li><a href="global.html#dot">dot</a></li><li><a href="global.html#down">down</a></li><li><a href="global.html#left">left</a></li><li><a href="global.html#lerp">lerp</a></li><li><a href="global.html#lerpRot">lerpRot</a></li><li><a href="global.html#magnitude">magnitude</a></li><li><a href="global.html#multiply">multiply</a></li><li><a href="global.html#negativeInfinity">negativeInfinity</a></li><li><a href="global.html#normalize">normalize</a></li><li><a href="global.html#normalized">normalized</a></li><li><a href="global.html#one">one</a></li><li><a href="global.html#positiveInfinity">positiveInfinity</a></li><li><a href="global.html#RAD2DEG">RAD2DEG</a></li><li><a href="global.html#rescale">rescale</a></li><li><a href="global.html#right">right</a></li><li><a href="global.html#rotate">rotate</a></li><li><a href="global.html#rotate90">rotate90</a></li><li><a href="global.html#rotate180">rotate180</a></li><li><a href="global.html#rotate270">rotate270</a></li><li><a href="global.html#rotateDeg">rotateDeg</a></li><li><a href="global.html#scale">scale</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#signedAngle">signedAngle</a></li><li><a href="global.html#signedAngleDeg">signedAngleDeg</a></li><li><a href="global.html#sub">sub</a></li><li><a href="global.html#up">up</a></li><li><a href="global.html#x">x</a></li><li><a href="global.html#y">y</a></li><li><a href="global.html#zero">zero</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">functions.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Rotate vector by a given amount of radians.
 * @param {Number[]} v Vector to rotate
 * @param {Number} rad Angle in radians
 * @param {Number[]} [target=v] Target for storing the results (Default: v)
 * @return {Number} Rotated vector
 */
export function rotate(v, rad, target) {
  if (!target) target = v;
  const cr = Math.cos(rad);
  const sr = Math.sin(rad);
  target[0] = cr * v[0] - sr * v[1];
  target[1] = sr * v[0] + cr * v[1];
  return target;
}

/**
 * Rotate vector by 90 degrees. (Counter-clockwise)
 * @param {Number[]} v Vector to rotate
 * @param {Number[]} [target=v] Target for storing the results (Default: v)
 * @return {Number} Rotated vector
 */
export function rotate90(v, target) {
  if (!target) target = v;
  target[0] = -v[1];
  target[1] = v[0];
  return target;
}

/**
 * Flip/Rotate vector by 180 degrees.
 * @param {Number[]} v Vector to rotate
 * @param {Number[]} [target=v] Target for storing the results (Default: v)
 * @return {Number} Rotated vector
 */
export function rotate180(v, target) {
  if (!target) target = v;
  target[0] = -v[0];
  target[1] = -v[1];
  return target;
}

/**
 * Rotate vector by 270 degrees. (Counter-clockwise)
 * @param {Number[]} v Vector to rotate
 * @param {Number[]} [target=v] Target for storing the results (Default: v)
 * @return {Number} Rotated vector
 */
export function rotate270(v, target) {
  if (!target) target = v;
  target[0] = v[1];
  target[1] = -v[0];
  return target;
}

/**
 * Find angle (in radians) between vector and [1, 0].
 * @param {Number[]} v Target vector
 * @return {Number} Angle in radians
 */
export function atan2(v) {
  return Math.atan2(v[1], v[0]);
}

/**
 * Calculates the signed angle between two vectors.
 *
 * @param {Number[]} a First vector
 * @param {Number[]} b Second vector
 * @returns {Number} Signed angle between vectors
 */
export function signedAngle(a, b) {
  let phi = Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);
  if (phi > Math.PI) {
    phi -= 2 * Math.PI;
  } else if (phi &lt;= -Math.PI) {
    phi += 2 * Math.PI;
  }
  return phi;
}

/**
 * Rotates a vector, v1, towards a second vector, v2, based on a factor, n.
 * An n-value of 0.5, will return a vector with rotation in between
 * v1 and v2.
 *
 * @example lerpRot([1, 0], [-1, 0]) // [0, 1]
 *
 * @param {Number[]} a Vector to interpolate from
 * @param {Number[]} b Vector to interpolate to
 * @param {Number} n Value between 0 - 1 used for interpolation
 * @param {Number[]} [target=a] Target for storing the results (Default: a)
 * @returns {Number[]} Interpolated vector
 */
export function lerpRot(a, b, n, target) {
  const phi = signedAngle(a, b); // Signed angle
  return rotate(a, n * phi, target);
}

/**
 * Find the cross product between two 2d vectors.
 * @param {Number[]} a Left operand
 * @param {Number[]} b Right operand
 * @return {Number} Signed area of the parallellogram defined by v1 and v2
 */
export function cross(a, b) {
  return (a[0] * b[1]) - (a[1] * b[0]);
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Fri Nov 01 2019 14:07:09 GMT+0100 (GMT+01:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
